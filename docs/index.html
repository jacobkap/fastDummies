<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Fast Creation of Dummy (Binary) Columns and Rows from Categorical Variables • fastDummies</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css"><script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet"><script src="pkgdown.js"></script><meta property="og:title" content="Fast Creation of Dummy (Binary) Columns and Rows from Categorical Variables"><meta property="og:description" content="Creates dummy columns from columns that have categorical variables (character or factor types). You can also specify which columns to make dummies out of, or which columns to ignore. Also creates dummy rows from character, factor, and Date columns. This package provides a significant speed increase from creating dummy variables through model.matrix()."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">fastDummies</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.7.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="articles/making-dummy-rows.html">Making dummy rows with dummy_rows()</a>
    </li>
    <li>
      <a href="articles/making-dummy-variables.html">Making dummy variables with dummy_cols()</a>
    </li>
  </ul></li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/jacobkap/fastDummies/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<p><a href="https://cran.r-project.org/package=fastDummies" class="external-link"><img src="http://www.r-pkg.org/badges/version/fastDummies" alt="CRAN_Status_Badge"></a> <a href="https://ci.appveyor.com/project/jacobkap/fastDummies" class="external-link"><img src="https://ci.appveyor.com/api/projects/status/github/jacobkap/fastDummies?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a> <a href="https://travis-ci.org/jacobkap/fastDummies" class="external-link"><img src="https://travis-ci.org/jacobkap/fastDummies.svg?branch=master" alt="Build Status"></a> <a href="https://codecov.io/github/jacobkap/fastDummies?branch=master" class="external-link"><img src="https://codecov.io/gh/jacobkap/fastDummies/branch/master/graph/badge.svg" alt="Coverage status"></a> <a href="https://cran.r-project.org/package=fastDummies" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/grand-total/fastDummies?color=blue"></a></p>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a></h2>
<p>The goal of <code>fastDummies</code> is to quickly create dummy variables (columns) and dummy rows. Creating dummy variables is possible through base R or other packages, but this package is much faster than those methods.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a></h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>To install this package, use the code</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"fastDummies"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="co"># The development version is available on Github.</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="co"># install.packages("devtools")</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"jacobkap/fastDummies"</span>)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jacobkap/fastDummies" class="external-link">fastDummies</a></span><span class="op">)</span></span></code></pre></div>
<p>There are two functions in this package:</p>
<ul><li>
<code><a href="reference/dummy_cols.html">dummy_cols()</a></code> lets you make dummy variables (<code><a href="reference/dummy_columns.html">dummy_columns()</a></code> is a clone of <code><a href="reference/dummy_cols.html">dummy_cols()</a></code>)<br></li>
<li>
<code><a href="reference/dummy_rows.html">dummy_rows()</a></code> which lets you make dummy rows.</li>
</ul></div>
<div class="section level1">
<h1 id="dummy-columns">Dummy Columns<a class="anchor" aria-label="anchor" href="#dummy-columns"></a></h1>
<p>Dummy variables (or binary variables) are commonly used in statistical analyses and in more simple descriptive statistics. A dummy column is one which has a value of one when a categorical event occurs and a zero when it doesn’t occur. In most cases this is a feature of the event/person/object being described. For example, if the dummy variable was for occupation being an R programmer, you can ask, “is this person an R programmer?” When the answer is yes, they get a value of 1, when it is no, they get a value of 0.</p>
<p>We’ll start with a simple example and then go into using the function <code><a href="reference/dummy_cols.html">dummy_cols()</a></code>. You can also use the function <code><a href="reference/dummy_columns.html">dummy_columns()</a></code> which is identical to <code><a href="reference/dummy_cols.html">dummy_cols()</a></code>.</p>
<p>Imagine you have a data set about animals in a local shelter. One of the columns in your data is what animal it is: dog or cat.</p>
<table class="table"><thead><tr class="header"><th align="left">animals</th>
</tr></thead><tbody><tr class="odd"><td align="left">dog</td>
</tr><tr class="even"><td align="left">dog</td>
</tr><tr class="odd"><td align="left">cat</td>
</tr></tbody></table><p>To make dummy columns from this data, you would need to produce two new columns. One would indicate if the animal is a dog, and the other would indicate if the animal is a cat. Each row would get a value of 1 in the column indicating which animal they are, and 0 in the other column.</p>
<table class="table"><thead><tr class="header"><th>animals</th>
<th>dog</th>
<th>cat</th>
</tr></thead><tbody><tr class="odd"><td>dog</td>
<td>1</td>
<td>0</td>
</tr><tr class="even"><td>dog</td>
<td>1</td>
<td>0</td>
</tr><tr class="odd"><td>cat</td>
<td>0</td>
<td>1</td>
</tr></tbody></table><p>In the function dummy_cols, the names of these new columns are concatenated to the original column and separated by an underscore.</p>
<table class="table"><thead><tr class="header"><th>animals</th>
<th>animals_dog</th>
<th>animals_cat</th>
</tr></thead><tbody><tr class="odd"><td>dog</td>
<td>1</td>
<td>0</td>
</tr><tr class="even"><td>dog</td>
<td>1</td>
<td>0</td>
</tr><tr class="odd"><td>cat</td>
<td>0</td>
<td>1</td>
</tr></tbody></table><p>With an example like this, it is fairly easy to make the dummy columns yourself. <code><a href="reference/dummy_cols.html">dummy_cols()</a></code> automates the process, and is useful when you have many columns to general dummy variables from or with many categories within the column.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fastDummies_example</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>numbers <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span>
<span>                    gender  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"male"</span>, <span class="st">"male"</span>, <span class="st">"female"</span><span class="op">)</span>,</span>
<span>                    animals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dog"</span>, <span class="st">"dog"</span>, <span class="st">"cat"</span><span class="op">)</span>,</span>
<span>                    dates   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2012-01-01"</span>, <span class="st">"2011-12-31"</span>,</span>
<span>                                          <span class="st">"2012-01-01"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                    stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">fastDummies_example</span><span class="op">)</span></span></code></pre></div>
<table class="table"><thead><tr class="header"><th align="right">numbers</th>
<th align="left">gender</th>
<th align="left">animals</th>
<th align="left">dates</th>
</tr></thead><tbody><tr class="odd"><td align="right">1</td>
<td align="left">male</td>
<td align="left">dog</td>
<td align="left">2012-01-01</td>
</tr><tr class="even"><td align="right">2</td>
<td align="left">male</td>
<td align="left">dog</td>
<td align="left">2011-12-31</td>
</tr><tr class="odd"><td align="right">3</td>
<td align="left">female</td>
<td align="left">cat</td>
<td align="left">2012-01-01</td>
</tr></tbody></table><p>The object <strong>fastDummies_example</strong> has two character type columns, one integer column, and a Date column. By default, <code><a href="reference/dummy_cols.html">dummy_cols()</a></code> will make dummy variables from factor or character columns only. This is because in most cases those are the only types of data you want dummy variables from. If those are the only columns you want, then the function takes your data set as the first parameter and returns a data.frame with the newly created variables appended to the end of the original data.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">fastDummies</span><span class="fu">::</span><span class="fu"><a href="reference/dummy_cols.html">dummy_cols</a></span><span class="op">(</span><span class="va">fastDummies_example</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span></code></pre></div>
<table class="table"><colgroup><col width="8%"><col width="7%"><col width="8%"><col width="12%"><col width="17%"><col width="15%"><col width="15%"><col width="15%"></colgroup><thead><tr class="header"><th align="right">numbers</th>
<th align="left">gender</th>
<th align="left">animals</th>
<th align="left">dates</th>
<th align="right">gender_female</th>
<th align="right">gender_male</th>
<th align="right">animals_cat</th>
<th align="right">animals_dog</th>
</tr></thead><tbody><tr class="odd"><td align="right">1</td>
<td align="left">male</td>
<td align="left">dog</td>
<td align="left">2012-01-01</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
</tr><tr class="even"><td align="right">2</td>
<td align="left">male</td>
<td align="left">dog</td>
<td align="left">2011-12-31</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
</tr><tr class="odd"><td align="right">3</td>
<td align="left">female</td>
<td align="left">cat</td>
<td align="left">2012-01-01</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr></tbody></table></div>
<div class="section level1">
<h1 id="dummy-rows">Dummy Rows<a class="anchor" aria-label="anchor" href="#dummy-rows"></a></h1>
<p>When dealing with data, there are often missing rows. While truly handling missing data is far beyond the scope of this package, the function <code><a href="reference/dummy_rows.html">dummy_rows()</a></code> lets you add those missing rows back into the data.</p>
<p>The function takes all character, factor, and Date columns, finds all possible combinations of their values, and adds the rows that are not in the original data set. Any columns not used in creating the combinations (e.g. numeric) are given a value of NA (unless otherwise specified with <em>dummy_value</em>).</p>
<p>Lets start with a simple example.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fastDummies_example</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>numbers <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span>
<span>                    gender  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"male"</span>, <span class="st">"male"</span>, <span class="st">"female"</span><span class="op">)</span>,</span>
<span>                    animals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dog"</span>, <span class="st">"dog"</span>, <span class="st">"cat"</span><span class="op">)</span>,</span>
<span>                    dates   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2012-01-01"</span>, <span class="st">"2011-12-31"</span>,</span>
<span>                                          <span class="st">"2012-01-01"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                    stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">fastDummies_example</span><span class="op">)</span></span></code></pre></div>
<table class="table"><thead><tr class="header"><th align="right">numbers</th>
<th align="left">gender</th>
<th align="left">animals</th>
<th align="left">dates</th>
</tr></thead><tbody><tr class="odd"><td align="right">1</td>
<td align="left">male</td>
<td align="left">dog</td>
<td align="left">2012-01-01</td>
</tr><tr class="even"><td align="right">2</td>
<td align="left">male</td>
<td align="left">dog</td>
<td align="left">2011-12-31</td>
</tr><tr class="odd"><td align="right">3</td>
<td align="left">female</td>
<td align="left">cat</td>
<td align="left">2012-01-01</td>
</tr></tbody></table><p>This data set has four columns: two character, one Date, and one numeric. The function by default will use the character and Date columns in creating the combinations. First, a small amount of math to explain the combinations. Each column has two distinct values - gender: male &amp; female; animals: dog &amp; cat; dates: 2011-12-31 &amp; 2011-12-31. To find the number of possible combinations, multiple the number of unique values in each column together. 2 * 2 * 2 = 8.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">fastDummies</span><span class="fu">::</span><span class="fu"><a href="reference/dummy_rows.html">dummy_rows</a></span><span class="op">(</span><span class="va">fastDummies_example</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span></code></pre></div>
<table class="table"><thead><tr class="header"><th align="right">numbers</th>
<th align="left">gender</th>
<th align="left">animals</th>
<th align="left">dates</th>
</tr></thead><tbody><tr class="odd"><td align="right">1</td>
<td align="left">male</td>
<td align="left">dog</td>
<td align="left">2012-01-01</td>
</tr><tr class="even"><td align="right">2</td>
<td align="left">male</td>
<td align="left">dog</td>
<td align="left">2011-12-31</td>
</tr><tr class="odd"><td align="right">3</td>
<td align="left">female</td>
<td align="left">cat</td>
<td align="left">2012-01-01</td>
</tr><tr class="even"><td align="right">NA</td>
<td align="left">female</td>
<td align="left">cat</td>
<td align="left">2011-12-31</td>
</tr><tr class="odd"><td align="right">NA</td>
<td align="left">male</td>
<td align="left">cat</td>
<td align="left">2011-12-31</td>
</tr><tr class="even"><td align="right">NA</td>
<td align="left">female</td>
<td align="left">dog</td>
<td align="left">2011-12-31</td>
</tr><tr class="odd"><td align="right">NA</td>
<td align="left">male</td>
<td align="left">cat</td>
<td align="left">2012-01-01</td>
</tr><tr class="even"><td align="right">NA</td>
<td align="left">female</td>
<td align="left">dog</td>
<td align="left">2012-01-01</td>
</tr></tbody></table></div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled"><li><a href="https://cloud.r-project.org/package=fastDummies" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/jacobkap/fastDummies/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/jacobkap/fastDummies/issues" class="external-link">Report a bug</a></li>
</ul></div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled"><li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul></div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled"><li><a href="authors.html#citation">Citing fastDummies</a></li>
</ul></div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled"><li>Jacob Kaplan <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-0601-0387" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul></div>

<div class="dev-status">
<h2 data-toc-skip>Dev Status</h2>
<ul class="list-unstyled"><li>placeholder</li>
</ul></div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jacob Kaplan.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

